

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

// Yha p schema define hota hai okkh primsa ka!..

// User jo hai wo like bhut room Create kar sakta hai okkh and chat bhi wo bhut sare kar sakta hai but ek hi user okkh!..
// To yha p one-many realtionship hoga!..

model User {
  id Int @id @default(autoincrement())
  userName String
  email String
  password String
  room room[] // ye jo hai wo like room ka logic hai okkh!..
  chat Chat[] // one to many realtion-ship
  photo String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model room{
  id Int @id @default(autoincrement())

  slug String @unique

  roomId Int 
  // Abb relationship ayega Yha p okkh! 
  
  userId Int
  user User @relation(fields: [userId], references: [id])
   
   // Yha like ek room s multiple chat bhii karr sakte hai okkh to yha hi like one-many realationship okh!..
  chat Chat[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}


model Chat{
  id Int @id @default(autoincrement())

  // relationship okkh!..

  userId Int
  user User @relation(fields: [userId], references: [id])
  
  roomId Int
  room room @relation(fields: [roomId], references: [id])
  
  message String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}